{"topologyName":"device-manager","config":"{\"topology.workers\":1,\"topology.acker.executors\":0,\"topology.message.timeout.secs\":45,\"clustersSecurityConfig\":[{}],\"topology.max.spout.pending\":100}","sources":[{"id":2,"topologyId":1,"topologyComponentBundleId":1,"versionId":5,"name":"technician_status-topic","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"g1","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"{{HOST1}}:6667","kafkaServiceName":"","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"UNCOMMITTED_EARLIEST","sslTruststoreType":"JKS","clusters":"{{CLUSTERNAME}}","fetchMinimumBytes":"1","consumerStartupDelayMs":60000,"sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"technician_status","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":2,"versionId":5,"streamId":"kafka_stream_4","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"event_type","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236050},{"id":1,"topologyId":1,"topologyComponentBundleId":1,"versionId":5,"name":"stb_status-topic","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"g1","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"{{HOST1}}:6667","kafkaServiceName":"","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"LATEST","sslTruststoreType":"JKS","clusters":"{{CLUSTERNAME}}","fetchMinimumBytes":"1","consumerStartupDelayMs":15000,"sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"stb_status","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":1,"versionId":5,"streamId":"kafka_stream_37","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236037}],"sinks":[{"id":23,"topologyId":1,"topologyComponentBundleId":16,"versionId":5,"name":"persist-stb-olap","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"TEN_MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT1M","aggregatorList":[{"count":{"name":"count"}},{"longmax":{"name":"signal_min","fieldName":"signal_strength"}},{"longmax":{"name":"signal_max","fieldName":"signal_strength"}},{"longmin":{"name":"temp_min","fieldName":"internal_temp"},"parallelism":1},{"longmax":{"name":"temp_max","fieldName":"internal_temp"}}],"tranquilityZKconnect":"{{HOST1}}:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"stb_status","clusters":"{{CLUSTERNAME}}","dimensions":["serial_number","state","status","signal_strength","internal_temp","device_model","longitude","latitude"]}},"timestamp":1503702236863},{"id":24,"topologyId":1,"topologyComponentBundleId":11,"versionId":5,"name":"persist-stb-status","description":"","config":{"properties":{"writeToWAL":true,"cluster":"1","columnFamily":"0","parallelism":1,"batchSize":100,"clusters":"{{CLUSTERNAME}}","table":"default:device_events"}},"timestamp":1503702236863},{"id":25,"topologyId":1,"topologyComponentBundleId":16,"versionId":5,"name":"persist-failure-olap","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"TEN_MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT1M","aggregatorList":[{"count":{"name":"count"}},{"longmin":{"name":"temp_min","fieldName":"internal_temp"},"parallelism":1},{"longmax":{"name":"temp_max","fieldName":"internal_temp"}}],"tranquilityZKconnect":"{{HOST1}}:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"stb_failures","clusters":"{{CLUSTERNAME}}","dimensions":["serial_number","state","status","signal_strength","internal_temp","longitude","device_model","latitude","alert_description"]}},"timestamp":1503702236863},{"id":26,"topologyId":1,"topologyComponentBundleId":10,"versionId":5,"name":"persist-unassigned-incident-location","description":"","config":{"properties":{"fsUrl":"hdfs://{{HOST1}}:8020","outputFields":["longitude","latitude"],"cluster":"1","path":"/tmp","extension":".txt","rotationPolicy":{"sizeBasedRotation":{"rotationSize":100,"rotationSizeUnit":"MB"}},"prefix":"","parallelism":1,"countPolicyValue":100,"clusters":"{{CLUSTERNAME}}"}},"timestamp":1503702236863},{"id":27,"topologyId":1,"topologyComponentBundleId":18,"versionId":5,"name":"assign-technician","description":"","config":{"properties":{"cluster":"1","parallelism":1,"compressionType":"none","keySerializer":"ByteArray","timeout":"30000","securityProtocol":"PLAINTEXT","bootstrapServers":"{{HOST1}}:6667","metadataMaxAge":"300000","kafkaServiceName":"","sslTruststoreType":"JKS","requestTimeout":"30000","clusters":"{{CLUSTERNAME}}","metadataFetchTimeout":"60000","clientId":"","maxRequestSize":"1048576","reconnectBackoff":"50","blocKOnBufferFull":true,"sendBufferSize":"131072","sslKeystoreType":"JKS","lingerTime":"0","sslTrustManagerAlgo":"PKIX","retryBackoff":"100","sslKeyManagerAlgo":"SunX509","maxInflighRequests":"5","async":true,"retries":"0","bufferMemory":"33554432","receiveBufferSize":"32768","fireAndForget":false,"ackMode":"Leader","sslProtocol":"TLS","topic":"technician_destination","batchSize":"16384","maxConnectionIdle":"540000","maxBlock":"60000"}},"timestamp":1503702236863},{"id":22,"topologyId":1,"topologyComponentBundleId":16,"versionId":5,"name":"persist-prediction-olap","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"TEN_MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT1M","aggregatorList":[{"count":{"name":"count"}}],"tranquilityZKconnect":"{{HOST1}}:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"stb_prediction","clusters":"{{CLUSTERNAME}}","dimensions":["serial_number"]}},"timestamp":1503702236863},{"id":21,"topologyId":1,"topologyComponentBundleId":11,"versionId":5,"name":"persist-tech-status","description":"","config":{"properties":{"writeToWAL":true,"cluster":"1","columnFamily":"0","parallelism":1,"rowKeyField":"technician_id","batchSize":100,"clusters":"{{CLUSTERNAME}}","table":"default:technician_events"}},"timestamp":1503702236863}],"processors":[{"id":11,"topologyId":1,"topologyComponentBundleId":21,"versionId":5,"name":"enrich-stb-status","description":"","config":{"properties":{"config.kerberosClientPrincipal":"","outputStreamToSchema":{"custom_processor_stream_5":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}},"config.enrichmentSQL":"SELECT devicemodel as \"device_model\", latitude as \"latitude\", longitude as \"longitude\", assignedtech as \"assigned_tech\" FROM devicedetails WHERE serialnumber = '${serial_number}'","outputSchema":{"fields":[{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":false}]},"parallelism":1,"description":"enrich phoenix","config.zkServerUrl":"{{HOST1}}:2181","inputSchemaMap":{"kafka_stream_37":{"serial_number":"serial_number"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.enrich.phoenix.PhoenixEnrichmentSecureProcessor","config.enrichedOutputFields":"device_model, latitude, longitude, assigned_tech","config.secureCluster":false,"name":"ENRICH-PHOENIX","config.kerberosKeyTabFile":"","jarFileName":"sam-custom-processor-0.0.5-jar-with-dependencies.jar"}},"outputStreams":[{"id":14,"versionId":5,"streamId":"custom_processor_stream_5","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":12,"topologyId":1,"topologyComponentBundleId":4,"versionId":5,"name":"if-status-reset","description":"","config":{"properties":{"outputStreams":[{"id":"rule_transform_stream_51","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}},{"id":"rule_notifier_stream_51","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}}],"rules":[3]}},"outputStreams":[{"id":15,"versionId":5,"streamId":"rule_transform_stream_51","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":16,"versionId":5,"streamId":"rule_notifier_stream_51","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":13,"topologyId":1,"topologyComponentBundleId":22,"versionId":5,"name":"reset-stb-assigned-tech","description":"","config":{"properties":{"config.kerberosClientPrincipal":"","outputStreamToSchema":{"custom_processor_stream_190":{"fields":[{"name":"serial_number","type":"STRING","optional":false}]}},"outputSchema":{"fields":[{"name":"output","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":false}]},"parallelism":1,"description":"UPSERT-PHOENIX","config.zkServerUrl":"{{HOST1}}:2181","inputSchemaMap":{"rule_transform_stream_51":{"serial_number":"serial_number"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.PhoenixUpsert","config.secureCluster":false,"name":"UPSERT-PHOENIX","config.kerberosKeyTabFile":"","jarFileName":"sam-custom-processor-phoenix-upsert-0.0.1-SNAPSHOT-jar-with-dependencies.jar","config.upsertSQL":"UPSERT INTO devicedetails(serialnumber,assignedtech) VALUES ('${serial_number}','None')"}},"outputStreams":[{"id":17,"versionId":5,"streamId":"custom_processor_stream_190","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":14,"topologyId":1,"topologyComponentBundleId":4,"versionId":5,"name":"terminate-branch","description":"","config":{"properties":{"outputStreams":[{"id":"rule_notifier_stream_54","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false}]}},{"id":"rule_transform_stream_54","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false}]}}],"rules":[4]}},"outputStreams":[{"id":18,"versionId":5,"streamId":"rule_transform_stream_54","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":19,"versionId":5,"streamId":"rule_notifier_stream_54","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":15,"topologyId":1,"topologyComponentBundleId":23,"versionId":5,"name":"publish-stb-status","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_28":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}},"config.cometdPubSubChannel":"/devicestatus","outputSchema":{"fields":[{"name":"output","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":true},{"name":"technician_id","type":"STRING","optional":true},{"name":"device_model","type":"STRING","optional":true},{"name":"status","type":"STRING","optional":true},{"name":"alert_description","type":"STRING","optional":true},{"name":"longitude","type":"DOUBLE","optional":true},{"name":"latitude","type":"DOUBLE","optional":true},{"name":"signal_strength","type":"INTEGER","optional":true},{"name":"internal_temp","type":"INTEGER","optional":true}]},"parallelism":1,"name":"COMETD-SINK","description":"COMETD SINK","config.cometdPubSubUrl":"http://{{HOST1}}:8099/cometd","jarFileName":"sam-custom-sink-0.0.5-jar-with-dependencies.jar","inputSchemaMap":{"custom_processor_stream_5":{"serial_number":"serial_number","device_model":"device_model","alert_description":"","longitude":"longitude","latitude":"latitude","signal_strength":"signal_strength","internal_temp":"internal_temp","technician_id":"","status":"status"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.sink.devicemanager.CometdPublisher"}},"outputStreams":[{"id":20,"versionId":5,"streamId":"custom_processor_stream_28","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":16,"topologyId":1,"topologyComponentBundleId":4,"versionId":5,"name":"detect-incidents","description":"","config":{"properties":{"outputStreams":[{"id":"rule_transform_stream_47","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}},{"id":"rule_notifier_stream_47","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}]}}],"rules":[5]}},"outputStreams":[{"id":21,"versionId":5,"streamId":"rule_transform_stream_47","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":22,"versionId":5,"streamId":"rule_notifier_stream_47","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"assigned_tech","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":17,"topologyId":1,"topologyComponentBundleId":25,"versionId":5,"name":"inject-failure-alert-description","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_186":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"alert_description","type":"STRING","optional":false}]}},"config.newFieldName":"alert_description","config.newFieldValue":"Device internal temp is too high","outputSchema":{"fields":[{"name":"alert_description","type":"STRING","optional":false}]},"inputSchema":{"fields":[]},"parallelism":1,"name":"INJECT-FIELD","description":"INJECT-FIELD","jarFileName":"sam-custom-processor-inject-field-0.0.1-SNAPSHOT.jar","inputSchemaMap":{"rule_transform_stream_47":{}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.InjectField"}},"outputStreams":[{"id":23,"versionId":5,"streamId":"custom_processor_stream_186","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"alert_description","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":18,"topologyId":1,"topologyComponentBundleId":23,"versionId":5,"name":"publish-device-failure-alert","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_187":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"alert_description","type":"STRING","optional":false}]}},"config.cometdPubSubChannel":"/alert","outputSchema":{"fields":[{"name":"output","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":true},{"name":"technician_id","type":"STRING","optional":true},{"name":"device_model","type":"STRING","optional":true},{"name":"status","type":"STRING","optional":true},{"name":"alert_description","type":"STRING","optional":true},{"name":"longitude","type":"DOUBLE","optional":true},{"name":"latitude","type":"DOUBLE","optional":true},{"name":"signal_strength","type":"INTEGER","optional":true},{"name":"internal_temp","type":"INTEGER","optional":true}]},"parallelism":1,"name":"COMETD-SINK","description":"COMETD SINK","config.cometdPubSubUrl":"http://{{HOST1}}:8099/cometd","jarFileName":"sam-custom-sink-0.0.5-jar-with-dependencies.jar","inputSchemaMap":{"custom_processor_stream_186":{"serial_number":"serial_number","technician_id":"","device_model":"device_model","status":"status","alert_description":"alert_description","longitude":"longitude","latitude":"latitude","signal_strength":"signal_strength","internal_temp":"internal_temp"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.sink.devicemanager.CometdPublisher"}},"outputStreams":[{"id":24,"versionId":5,"streamId":"custom_processor_stream_187","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"state","type":"STRING","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"signal_strength","type":"INTEGER","optional":false},{"name":"internal_temp","type":"INTEGER","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"alert_description","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":19,"topologyId":1,"topologyComponentBundleId":26,"versionId":5,"name":"recommend-tech","description":"","config":{"properties":{"config.deviceTable":"DEVICEDETAILS","config.deviceTableCf":"0","outputStreamToSchema":{"custom_processor_stream_179":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}]}},"config.zkPort":"2181","config.techLocationTableCf":"0","outputSchema":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"device_model","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false}]},"parallelism":1,"description":"route technician","inputSchemaMap":{"rule_transform_stream_47":{"serial_number":"serial_number","device_model":"device_model","alert_description":"","longitude":"longitude","latitude":"latitude"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.RouteTech","config.techLocationTable":"technician_events","config.zkHbasePath":"/hbase-unsecure","name":"ROUTE-TECH","config.zkHost":"{{HOST1}}","jarFileName":"sam-custom-processor-routetech-0.0.1-SNAPSHOT-jar-with-dependencies.jar"}},"outputStreams":[{"id":25,"versionId":5,"streamId":"custom_processor_stream_179","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":20,"topologyId":1,"topologyComponentBundleId":6,"versionId":5,"name":"if-tech-recommended","description":"","config":{"properties":{"rules":[1,2],"processAll":false,"outputStreams":[{"id":"branch_notifier_stream_1","schema":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}]}},{"id":"branch_notifier_stream_2","schema":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}]}},{"id":"branch_transform_stream_2","schema":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}]}},{"id":"branch_transform_stream_1","schema":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}]}}]}},"outputStreams":[{"id":26,"versionId":5,"streamId":"branch_transform_stream_1","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":27,"versionId":5,"streamId":"branch_notifier_stream_1","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":28,"versionId":5,"streamId":"branch_transform_stream_2","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":29,"versionId":5,"streamId":"branch_notifier_stream_2","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"destination_longitude","type":"DOUBLE","optional":false},{"name":"destination_latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":4,"topologyId":1,"topologyComponentBundleId":5,"versionId":5,"name":"collect-status-metrics","description":"","config":{"properties":{"rules":[1],"parallelism":1}},"outputStreams":[{"id":4,"versionId":5,"streamId":"window_transform_stream_16","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"internal_temp_COLLECT_LIST","type":"ARRAY","optional":false,"members":null}],"timestamp":1503702236863},{"id":5,"versionId":5,"streamId":"window_notifier_stream_16","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"internal_temp_COLLECT_LIST","type":"ARRAY","optional":false,"members":null}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":5,"topologyId":1,"topologyComponentBundleId":24,"versionId":5,"name":"explode-metrics-collection","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_38":{"fields":[{"name":"field_0","type":"INTEGER","optional":false},{"name":"field_1","type":"INTEGER","optional":false},{"name":"field_2","type":"INTEGER","optional":false},{"name":"field_3","type":"INTEGER","optional":false},{"name":"field_4","type":"INTEGER","optional":false},{"name":"field_5","type":"INTEGER","optional":false},{"name":"field_6","type":"INTEGER","optional":false},{"name":"field_7","type":"INTEGER","optional":false},{"name":"field_8","type":"INTEGER","optional":false},{"name":"field_9","type":"INTEGER","optional":false},{"name":"serial_number","type":"STRING","optional":false}]}},"outputSchema":{"fields":[{"name":"field_0","type":"INTEGER","optional":false},{"name":"field_1","type":"INTEGER","optional":false},{"name":"field_2","type":"INTEGER","optional":false},{"name":"field_3","type":"INTEGER","optional":false},{"name":"field_4","type":"INTEGER","optional":false},{"name":"field_5","type":"INTEGER","optional":false},{"name":"field_6","type":"INTEGER","optional":false},{"name":"field_7","type":"INTEGER","optional":false},{"name":"field_8","type":"INTEGER","optional":false},{"name":"field_9","type":"INTEGER","optional":false}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"arrayField","type":"ARRAY","optional":false,"members":null}]},"config.arrayGroupByField":"serial_number","parallelism":1,"name":"EXPLODE-COLLECTION","config.expectedArrayLength":10,"description":"Explode collection/array type into individual fields","jarFileName":"sam-custom-processor-explode-collection-0.0.1-SNAPSHOT.jar","inputSchemaMap":{"window_transform_stream_16":{"arrayField":"internal_temp_COLLECT_LIST","serial_number":"serial_number"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.ExplodeCollection"}},"outputStreams":[{"id":6,"versionId":5,"streamId":"custom_processor_stream_38","description":null,"topologyId":1,"fields":[{"name":"field_0","type":"INTEGER","optional":false},{"name":"field_1","type":"INTEGER","optional":false},{"name":"field_2","type":"INTEGER","optional":false},{"name":"field_3","type":"INTEGER","optional":false},{"name":"field_4","type":"INTEGER","optional":false},{"name":"field_5","type":"INTEGER","optional":false},{"name":"field_6","type":"INTEGER","optional":false},{"name":"field_7","type":"INTEGER","optional":false},{"name":"field_8","type":"INTEGER","optional":false},{"name":"field_9","type":"INTEGER","optional":false},{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":6,"topologyId":1,"topologyComponentBundleId":9,"versionId":5,"name":"convert-metrics-into-to-double","description":"","config":{"properties":{"outputStreams":[{"id":"projection_notifier_stream_121","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"field_0","type":"DOUBLE","optional":false},{"name":"field_1","type":"DOUBLE","optional":false},{"name":"field_2","type":"DOUBLE","optional":false},{"name":"field_3","type":"DOUBLE","optional":false},{"name":"field_4","type":"DOUBLE","optional":false},{"name":"field_5","type":"DOUBLE","optional":false},{"name":"field_6","type":"DOUBLE","optional":false},{"name":"field_7","type":"DOUBLE","optional":false},{"name":"field_8","type":"DOUBLE","optional":false},{"name":"field_9","type":"DOUBLE","optional":false}]}},{"id":"projection_transform_stream_121","schema":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"field_0","type":"DOUBLE","optional":false},{"name":"field_1","type":"DOUBLE","optional":false},{"name":"field_2","type":"DOUBLE","optional":false},{"name":"field_3","type":"DOUBLE","optional":false},{"name":"field_4","type":"DOUBLE","optional":false},{"name":"field_5","type":"DOUBLE","optional":false},{"name":"field_6","type":"DOUBLE","optional":false},{"name":"field_7","type":"DOUBLE","optional":false},{"name":"field_8","type":"DOUBLE","optional":false},{"name":"field_9","type":"DOUBLE","optional":false}]}}],"rules":[1]}},"outputStreams":[{"id":7,"versionId":5,"streamId":"projection_transform_stream_121","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"field_0","type":"DOUBLE","optional":false},{"name":"field_1","type":"DOUBLE","optional":false},{"name":"field_2","type":"DOUBLE","optional":false},{"name":"field_3","type":"DOUBLE","optional":false},{"name":"field_4","type":"DOUBLE","optional":false},{"name":"field_5","type":"DOUBLE","optional":false},{"name":"field_6","type":"DOUBLE","optional":false},{"name":"field_7","type":"DOUBLE","optional":false},{"name":"field_8","type":"DOUBLE","optional":false},{"name":"field_9","type":"DOUBLE","optional":false}],"timestamp":1503702236863},{"id":8,"versionId":5,"streamId":"projection_notifier_stream_121","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"field_0","type":"DOUBLE","optional":false},{"name":"field_1","type":"DOUBLE","optional":false},{"name":"field_2","type":"DOUBLE","optional":false},{"name":"field_3","type":"DOUBLE","optional":false},{"name":"field_4","type":"DOUBLE","optional":false},{"name":"field_5","type":"DOUBLE","optional":false},{"name":"field_6","type":"DOUBLE","optional":false},{"name":"field_7","type":"DOUBLE","optional":false},{"name":"field_8","type":"DOUBLE","optional":false},{"name":"field_9","type":"DOUBLE","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":7,"topologyId":1,"topologyComponentBundleId":8,"versionId":5,"name":"predict-stb-failure","description":"","config":{"properties":{"modelName":"device_monitor_svm","parallelism":1}},"outputStreams":[{"id":9,"versionId":5,"streamId":"pmml_stream_142","description":null,"topologyId":1,"fields":[{"name":"target","type":"STRING","optional":false},{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":8,"topologyId":1,"topologyComponentBundleId":4,"versionId":5,"name":"is-failure-detected","description":"","config":{"properties":{"outputStreams":[{"id":"rule_transform_stream_50","schema":{"fields":[{"name":"target","type":"STRING","optional":false},{"name":"serial_number","type":"STRING","optional":false}]}},{"id":"rule_notifier_stream_50","schema":{"fields":[{"name":"target","type":"STRING","optional":false},{"name":"serial_number","type":"STRING","optional":false}]}}],"rules":[2]}},"outputStreams":[{"id":10,"versionId":5,"streamId":"rule_transform_stream_50","description":null,"topologyId":1,"fields":[{"name":"target","type":"STRING","optional":false},{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863},{"id":11,"versionId":5,"streamId":"rule_notifier_stream_50","description":null,"topologyId":1,"fields":[{"name":"target","type":"STRING","optional":false},{"name":"serial_number","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":9,"topologyId":1,"topologyComponentBundleId":25,"versionId":5,"name":"inject-prediction-alert-description","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_184":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"target","type":"STRING","optional":false},{"name":"alert_description","type":"STRING","optional":false}]}},"config.newFieldName":"alert_description","config.newFieldValue":"Device outage is imminent based on observed measurement fluctuation","outputSchema":{"fields":[{"name":"alert_description","type":"STRING","optional":false}]},"inputSchema":{"fields":[]},"parallelism":1,"name":"INJECT-FIELD","description":"INJECT-FIELD","jarFileName":"sam-custom-processor-inject-field-0.0.1-SNAPSHOT.jar","inputSchemaMap":{"rule_transform_stream_50":{}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.InjectField"}},"outputStreams":[{"id":12,"versionId":5,"streamId":"custom_processor_stream_184","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"target","type":"STRING","optional":false},{"name":"alert_description","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":10,"topologyId":1,"topologyComponentBundleId":23,"versionId":5,"name":"publish-failure-prediction","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_27":{"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"alert_description","type":"STRING","optional":false}]}},"config.cometdPubSubChannel":"/prediction","outputSchema":{"fields":[{"name":"output","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":true},{"name":"technician_id","type":"STRING","optional":true},{"name":"device_model","type":"STRING","optional":true},{"name":"status","type":"STRING","optional":true},{"name":"alert_description","type":"STRING","optional":true},{"name":"longitude","type":"DOUBLE","optional":true},{"name":"latitude","type":"DOUBLE","optional":true},{"name":"signal_strength","type":"INTEGER","optional":true},{"name":"internal_temp","type":"INTEGER","optional":true}]},"parallelism":1,"name":"COMETD-SINK","description":"COMETD SINK","config.cometdPubSubUrl":"http://{{HOST1}}:8099/cometd","jarFileName":"sam-custom-sink-0.0.5-jar-with-dependencies.jar","inputSchemaMap":{"custom_processor_stream_184":{"serial_number":"serial_number","technician_id":"","device_model":"","status":"","alert_description":"alert_description","longitude":"","latitude":"","signal_strength":"","internal_temp":""}},"customProcessorImpl":"hortonworks.hdf.sam.custom.sink.devicemanager.CometdPublisher"}},"outputStreams":[{"id":13,"versionId":5,"streamId":"custom_processor_stream_27","description":null,"topologyId":1,"fields":[{"name":"serial_number","type":"STRING","optional":false},{"name":"alert_description","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863},{"id":3,"topologyId":1,"topologyComponentBundleId":23,"versionId":5,"name":"publish-tech-location","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_29":{"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"event_type","type":"STRING","optional":false}]}},"config.cometdPubSubChannel":"/technicianstatus","outputSchema":{"fields":[{"name":"output","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"serial_number","type":"STRING","optional":true},{"name":"technician_id","type":"STRING","optional":true},{"name":"device_model","type":"STRING","optional":true},{"name":"status","type":"STRING","optional":true},{"name":"alert_description","type":"STRING","optional":true},{"name":"longitude","type":"DOUBLE","optional":true},{"name":"latitude","type":"DOUBLE","optional":true},{"name":"signal_strength","type":"INTEGER","optional":true},{"name":"internal_temp","type":"INTEGER","optional":true}]},"parallelism":1,"name":"COMETD-SINK","description":"COMETD SINK","config.cometdPubSubUrl":"http://{{HOST1}}:8099/cometd","jarFileName":"sam-custom-sink-0.0.5-jar-with-dependencies.jar","inputSchemaMap":{"kafka_stream_4":{"serial_number":"","device_model":"","alert_description":"","longitude":"longitude","latitude":"latitude","signal_strength":"","internal_temp":"","status":"status","technician_id":"technician_id"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.sink.devicemanager.CometdPublisher"}},"outputStreams":[{"id":3,"versionId":5,"streamId":"custom_processor_stream_29","description":null,"topologyId":1,"fields":[{"name":"technician_id","type":"STRING","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"status","type":"STRING","optional":false},{"name":"ip_address","type":"STRING","optional":false},{"name":"port","type":"STRING","optional":false},{"name":"event_type","type":"STRING","optional":false}],"timestamp":1503702236863}],"timestamp":1503702236863}],"edges":[{"id":3,"versionId":5,"topologyId":1,"fromId":2,"toId":3,"streamGroupings":[{"streamId":2,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":1,"versionId":5,"topologyId":1,"fromId":1,"toId":11,"streamGroupings":[{"streamId":1,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":2,"versionId":5,"topologyId":1,"fromId":1,"toId":4,"streamGroupings":[{"streamId":1,"grouping":"FIELDS","fields":["serial_number"]}],"timestamp":1503702236863},{"id":12,"versionId":5,"topologyId":1,"fromId":11,"toId":15,"streamGroupings":[{"streamId":14,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":13,"versionId":5,"topologyId":1,"fromId":11,"toId":24,"streamGroupings":[{"streamId":14,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":14,"versionId":5,"topologyId":1,"fromId":11,"toId":23,"streamGroupings":[{"streamId":14,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":15,"versionId":5,"topologyId":1,"fromId":11,"toId":12,"streamGroupings":[{"streamId":14,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":16,"versionId":5,"topologyId":1,"fromId":12,"toId":13,"streamGroupings":[{"streamId":15,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":17,"versionId":5,"topologyId":1,"fromId":13,"toId":14,"streamGroupings":[{"streamId":17,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":18,"versionId":5,"topologyId":1,"fromId":15,"toId":16,"streamGroupings":[{"streamId":20,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":19,"versionId":5,"topologyId":1,"fromId":16,"toId":19,"streamGroupings":[{"streamId":21,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":20,"versionId":5,"topologyId":1,"fromId":16,"toId":17,"streamGroupings":[{"streamId":21,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":21,"versionId":5,"topologyId":1,"fromId":17,"toId":18,"streamGroupings":[{"streamId":23,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":22,"versionId":5,"topologyId":1,"fromId":18,"toId":25,"streamGroupings":[{"streamId":24,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":23,"versionId":5,"topologyId":1,"fromId":19,"toId":20,"streamGroupings":[{"streamId":25,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":24,"versionId":5,"topologyId":1,"fromId":20,"toId":27,"streamGroupings":[{"streamId":26,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":25,"versionId":5,"topologyId":1,"fromId":20,"toId":26,"streamGroupings":[{"streamId":28,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":5,"versionId":5,"topologyId":1,"fromId":4,"toId":5,"streamGroupings":[{"streamId":4,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":6,"versionId":5,"topologyId":1,"fromId":5,"toId":6,"streamGroupings":[{"streamId":6,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":7,"versionId":5,"topologyId":1,"fromId":6,"toId":7,"streamGroupings":[{"streamId":7,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":8,"versionId":5,"topologyId":1,"fromId":7,"toId":8,"streamGroupings":[{"streamId":9,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":9,"versionId":5,"topologyId":1,"fromId":8,"toId":9,"streamGroupings":[{"streamId":10,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":10,"versionId":5,"topologyId":1,"fromId":9,"toId":10,"streamGroupings":[{"streamId":12,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":11,"versionId":5,"topologyId":1,"fromId":10,"toId":22,"streamGroupings":[{"streamId":13,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863},{"id":4,"versionId":5,"topologyId":1,"fromId":3,"toId":21,"streamGroupings":[{"streamId":3,"grouping":"SHUFFLE","fields":null}],"timestamp":1503702236863}],"rules":[{"id":3,"versionId":5,"topologyId":1,"name":"reset-stb","description":"reset assigned tech field to' None'","streams":["custom_processor_stream_5"],"condition":"status = 'reset'","sql":"SELECT *  FROM custom_processor_stream_5 WHERE status = 'reset'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_51"],"transforms":[]}],"outputStreams":["rule_transform_stream_51","rule_notifier_stream_51"],"timestamp":1503702236863},{"id":4,"versionId":5,"topologyId":1,"name":"terminate-branch","description":"terminate-branch","streams":["custom_processor_stream_190"],"condition":"serial_number <> serial_number","sql":"SELECT *  FROM custom_processor_stream_190 WHERE serial_number <> serial_number","actions":[],"outputStreams":["rule_transform_stream_54","rule_notifier_stream_54"],"timestamp":1503702236863},{"id":5,"versionId":5,"topologyId":1,"name":"stb-temp","description":"stb-temp","streams":["custom_processor_stream_28"],"condition":"internal_temp >= 105 AND assigned_tech = 'None'","sql":"SELECT *  FROM custom_processor_stream_28 WHERE internal_temp >= 105 AND assigned_tech = 'None'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_47"],"transforms":[]}],"outputStreams":["rule_transform_stream_47","rule_notifier_stream_47"],"timestamp":1503702236863},{"id":1,"versionId":5,"topologyId":1,"name":"projection_auto_generated","description":"projection description auto generated","streams":["custom_processor_stream_38"],"projections":[{"functionName":"INT_TO_DOUBLE","args":["field_0"],"outputFieldName":"field_0"},{"functionName":"INT_TO_DOUBLE","args":["field_1"],"outputFieldName":"field_1"},{"functionName":"INT_TO_DOUBLE","args":["field_2"],"outputFieldName":"field_2"},{"functionName":"INT_TO_DOUBLE","args":["field_3"],"outputFieldName":"field_3"},{"functionName":"INT_TO_DOUBLE","args":["field_4"],"outputFieldName":"field_4"},{"functionName":"INT_TO_DOUBLE","args":["field_5"],"outputFieldName":"field_5"},{"functionName":"INT_TO_DOUBLE","args":["field_6"],"outputFieldName":"field_6"},{"functionName":"INT_TO_DOUBLE","args":["field_7"],"outputFieldName":"field_7"},{"functionName":"INT_TO_DOUBLE","args":["field_8"],"outputFieldName":"field_8"},{"functionName":"INT_TO_DOUBLE","args":["field_9"],"outputFieldName":"field_9"},{"expr":"serial_number"}],"sql":"SELECT INT_TO_DOUBLE(field_0) AS \"field_0\",INT_TO_DOUBLE(field_1) AS \"field_1\",INT_TO_DOUBLE(field_2) AS \"field_2\",INT_TO_DOUBLE(field_3) AS \"field_3\",INT_TO_DOUBLE(field_4) AS \"field_4\",INT_TO_DOUBLE(field_5) AS \"field_5\",INT_TO_DOUBLE(field_6) AS \"field_6\",INT_TO_DOUBLE(field_7) AS \"field_7\",INT_TO_DOUBLE(field_8) AS \"field_8\",INT_TO_DOUBLE(field_9) AS \"field_9\",serial_number FROM custom_processor_stream_38","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["projection_transform_stream_121"],"transforms":[]}],"outputStreams":["projection_transform_stream_160","projection_notifier_stream_160"],"timestamp":1503702236863},{"id":2,"versionId":5,"topologyId":1,"name":"detect-failure-prediction","description":"detect-failure-prediction","streams":["pmml_stream_142"],"condition":"target = 'fail'","sql":"SELECT *  FROM pmml_stream_142 WHERE target = 'fail'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_50"],"transforms":[]}],"outputStreams":["rule_transform_stream_50","rule_notifier_stream_50"],"timestamp":1503702236863}],"windows":[{"id":1,"versionId":5,"topologyId":1,"name":"window_auto_generated","description":"window description auto generated","streams":["kafka_stream_37"],"window":{"windowLength":{"class":".Window$Count","count":10},"slidingInterval":{"class":".Window$Count","count":10},"tsField":null,"lagMs":0},"actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["window_transform_stream_16"],"transforms":[]}],"projections":[{"functionName":"COLLECT_LIST","args":["internal_temp"],"outputFieldName":"internal_temp_COLLECT_LIST"},{"expr":"serial_number"}],"groupbykeys":["serial_number"],"outputStreams":["window_transform_stream_158","window_notifier_stream_158"],"timestamp":1503702236863}],"branchRules":[{"id":1,"topologyId":1,"versionId":5,"name":"tech-assigned","description":"tech assigned","stream":"custom_processor_stream_179","condition":"technician_id <> 'null'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["branch_transform_stream_1"],"transforms":[]}],"outputStreams":["branch_transform_stream_1","branch_notifier_stream_1"],"timestamp":1503702236863},{"id":2,"topologyId":1,"versionId":5,"name":"tech-not-assigned","description":"tech not assigned","stream":"custom_processor_stream_179","condition":"technician_id = 'null'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["branch_transform_stream_2"],"transforms":[]}],"outputStreams":["branch_transform_stream_2","branch_notifier_stream_2"],"timestamp":1503702236863}],"bundleIdToType":{"22":"CUSTOM","11":"HBASE","23":"CUSTOM","24":"CUSTOM","25":"CUSTOM","26":"CUSTOM","16":"DRUID","18":"KAFKA","1":"KAFKA","4":"RULE","5":"WINDOW","6":"BRANCH","8":"PMML","9":"PROJECTION","21":"CUSTOM","10":"HDFS"},"topologyEditorMetadata":{"topologyId":1,"versionId":5,"data":"{\"sources\":[{\"x\":-97.65345191955566,\"y\":533.71435546875,\"id\":2},{\"x\":-96.16286087036133,\"y\":183.4254608154297,\"id\":1}],\"sinks\":[{\"x\":486.65826416015625,\"y\":533.71435546875,\"id\":21},{\"x\":456.846435546875,\"y\":351.86224365234375,\"id\":24},{\"x\":456.846435546875,\"y\":415.9576721191406,\"id\":23},{\"x\":1501.7508544921875,\"y\":357.8246154785156,\"id\":25},{\"x\":1840.114990234375,\"y\":93.989990234375,\"id\":22},{\"x\":1843.09619140625,\"y\":222.1808319091797,\"id\":26},{\"x\":1843.09619140625,\"y\":359.3152160644531,\"id\":27}],\"processors\":[{\"x\":181.08709716796875,\"y\":287.766845703125,\"id\":11},{\"x\":179.59649658203125,\"y\":93.989990234375,\"id\":4},{\"x\":1612.0545654296875,\"y\":93.989990234375,\"id\":10},{\"x\":458.3370361328125,\"y\":287.766845703125,\"id\":15},{\"x\":191.521240234375,\"y\":533.71435546875,\"id\":3},{\"x\":455.3558349609375,\"y\":93.989990234375,\"id\":5},{\"x\":692.35986328125,\"y\":93.989990234375,\"id\":6},{\"x\":927.8732299804688,\"y\":93.989990234375,\"id\":7},{\"x\":695.341064453125,\"y\":287.766845703125,\"id\":16},{\"x\":1228.97265625,\"y\":287.766845703125,\"id\":19},{\"x\":1501.7508544921875,\"y\":287.766845703125,\"id\":20},{\"x\":1155.9337158203125,\"y\":93.989990234375,\"id\":8},{\"x\":1383.994140625,\"y\":93.989990234375,\"id\":9},{\"x\":962.1568603515625,\"y\":357.8246154785156,\"id\":17},{\"x\":1228.97265625,\"y\":357.8246154785156,\"id\":18},{\"x\":456.846435546875,\"y\":211.74668884277344,\"id\":12},{\"x\":695.3410034179688,\"y\":211.74668884277344,\"id\":13},{\"x\":959.1756591796875,\"y\":211.74668884277344,\"id\":14}],\"graphTransforms\":{\"dragCoords\":[126.87482437773923,140.5269871825699],\"zoomScale\":0.6708748170175277},\"customNames\":[{\"uiname\":\"enrich-stb-status\",\"customProcessorName\":\"ENRICH-PHOENIX\"},{\"uiname\":\"publish-failure-prediction\",\"customProcessorName\":\"COMETD-SINK\"},{\"uiname\":\"publish-stb-status\",\"customProcessorName\":\"COMETD-SINK\"},{\"uiname\":\"publish-tech-location\",\"customProcessorName\":\"COMETD-SINK\"},{\"uiname\":\"explode-metrics-collection\",\"customProcessorName\":\"EXPLODE-COLLECTION\"},{\"uiname\":\"recommend-tech\",\"customProcessorName\":\"ROUTE-TECH\"},{\"uiname\":\"inject-prediction-alert-description\",\"customProcessorName\":\"INJECT-FIELD\"},{\"uiname\":\"inject-failure-alert-description\",\"customProcessorName\":\"INJECT-FIELD\"},{\"uiname\":\"publish-device-failure-alert\",\"customProcessorName\":\"COMETD-SINK\"},{\"uiname\":\"reset-stb-assigned-tech\",\"customProcessorName\":\"UPSERT-PHOENIX\"}]}","timestamp":1503702236018}}